import{q as f,r as m,j as e,f as h}from"./app-CbZ32hEm.js";import{A as y}from"./AuthenticatedLayout-CdJY1Eeh.js";import{c as N,s as g}from"./proxy-D0Lj5R2m.js";import{S as v,T as k}from"./trash-2-BG_9Bx1h.js";import{P as w}from"./Icon-CmMEtwrX.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],C=N("image-plus",S);function T(){const{heroes:n}=f().props,r=5,u=Array.from({length:r},(s,t)=>n[t]||null),[b,o]=m.useState(null),[i,a]=m.useState(null),[l,d]=m.useState(!1),j=s=>{confirm("Yakin ingin menghapus gambar ini?")&&h.delete(g("hero.destroy",s))},p=s=>{a(s.target.files[0])},x=(s=null)=>{if(!i)return;const t=new FormData;t.append("gambar",i),d(!0),s?h.post(g("hero.update",s),t,{onFinish:()=>{d(!1),o(null),a(null)}}):h.post(g("hero.store"),t,{onFinish:()=>{d(!1),a(null)}})};return e.jsx(y,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Kelola Hero Carousel"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Ukuran gambar maksimal ",e.jsx("strong",{children:"2MB"}),". Format diperbolehkan: ",e.jsx("strong",{children:"jpg, jpeg, png"}),"."]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((s,t)=>e.jsx("div",{className:"relative border rounded-lg overflow-hidden shadow bg-white p-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`/storage/${s.gambar}`,alt:`Hero ${t+1}`,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsxs("label",{className:"bg-yellow-500 text-white p-2 rounded hover:bg-yellow-600 cursor-pointer",children:[e.jsx(v,{size:18}),e.jsx("input",{type:"file",accept:"image/*",onChange:c=>{o(s.id_hero),p(c)},className:"hidden"})]}),e.jsx("button",{onClick:()=>j(s.id_hero),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700",children:e.jsx(k,{size:18})})]}),b===s.id_hero&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>x(s.id_hero),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm",disabled:l,children:l?"Mengunggah...":"Simpan"}),e.jsx("button",{onClick:()=>{o(null),a(null)},className:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500 text-sm",children:"Batal"})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400 gap-2",children:[e.jsx(C,{size:32}),e.jsx("span",{children:"Slot Kosong"}),e.jsxs("label",{className:"mt-2 inline-flex items-center gap-1 text-sm text-lime-800 hover:underline cursor-pointer",children:[e.jsx(w,{size:16})," Tambah Gambar",e.jsx("input",{type:"file",accept:"image/*",onChange:c=>p(c),className:"hidden"})]}),i&&e.jsx("button",{onClick:()=>x(),className:"mt-2 text-sm bg-lime-700 text-white px-3 py-1 rounded hover:bg-lime-600",disabled:l,children:l?"Mengunggah...":"Simpan Gambar"})]})},t))}),e.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:["Total slot: ",r," | Terisi: ",n.length," | Kosong: ",r-n.length]})]})})}export{T as default};
