import{r as m,j as a,f as h,b as x}from"./app-Dh9U4SK1.js";import{A as f}from"./AuthenticatedLayout-N0h_cTWz.js";import{s as p}from"./proxy-CwE9UnCx.js";import{F as i,a as j,b as y}from"./FormFile-CU41cVgl.js";import"./Icon-_VO6nH5L.js";function P(){const[e,u]=m.useState({nama:"",deskripsi:"",gambar:null,kategori:"",harga:"",linkproduk:""}),[d,k]=m.useState(!1),[s,g]=m.useState({}),t=o=>{const{name:r,value:n}=o.target;u(l=>({...l,[r]:n}))},c=(o,r)=>{u(n=>({...n,[r]:o.target.files[0]}))},b=async o=>{var n;o.preventDefault(),k(!0),g({});const r=new FormData;r.append("nama",e.nama),r.append("deskripsi",e.deskripsi),r.append("gambar",e.gambar),r.append("kategori",e.kategori),r.append("harga",e.harga),r.append("linkproduk",e.linkproduk);try{await x.post(p("produk.store"),r,{headers:{"Content-Type":"multipart/form-data"}}),h.visit(p("produk.admin"))}catch(l){((n=l.response)==null?void 0:n.status)===422?g(l.response.data.errors):console.error("Gagal menyimpan data",l)}finally{k(!1)}};return a.jsx(f,{children:a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Tambah Produk"}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:a.jsxs("form",{onSubmit:b,className:"space-y-5",children:[a.jsx(i,{label:"Nama Produk",name:"nama",value:e.nama,onChange:t,placeholder:"Masukkan Nama Produk",error:s.nama}),a.jsx(j,{label:"Deskripsi",name:"deskripsi",value:e.deskripsi,onChange:t,placeholder:"Masukkan Deskripsi",error:s.deskripsi}),a.jsx(y,{label:"Gambar Produk",name:"gambar",onChange:o=>c(o,"gambar"),error:s.gambar}),a.jsx(i,{label:"Kategori",name:"kategori",value:e.kategori,onChange:t,placeholder:"Masukkan Kategori",error:s.kategori}),a.jsx(i,{label:"Harga",name:"harga",value:e.harga,onChange:t,placeholder:"Masukkan Harga",error:s.harga}),a.jsx(i,{label:"Link Produk",name:"linkproduk",value:e.linkproduk,onChange:t,placeholder:"Masukkan Link Produk (jika ada)",error:s.linkproduk}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("button",{type:"submit",disabled:d,className:`px-8 py-3 rounded-lg font-semibold transition-all shadow-md ${d?"bg-lime-600 cursor-not-allowed":"bg-lime-800 hover:bg-lime-600 text-white"}`,children:d?"Menyimpan...":"Simpan Produk"}),a.jsx("button",{type:"button",onClick:()=>h.visit(p("produk.admin")),className:"px-8 py-3 rounded-lg font-semibold transition-all bg-gray-300 hover:bg-gray-400 shadow-md text-gray-700",children:"Batal"})]})]})})]})})}export{P as default};
