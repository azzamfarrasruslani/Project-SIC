import{S as x,r as g,j as e}from"./app-CzqTWLDq.js";import{A as b}from"./AuthenticatedLayout-DQUGwIG0.js";import{s as h}from"./proxy-Djw7yrLP.js";function v({artikel:r}){const{data:s,setData:i,post:u,processing:d,errors:t}=x({judul:r.judul||"",isi:r.isi||"",gambar:null,penulis:r.penulis||"",kategori:r.kategori||"",status:r.status||"draft",_method:"PUT"}),[o,m]=g.useState(r.gambar?`/storage/${r.gambar}`:null),c=a=>{const l=a.target.files[0];if(i("gambar",l),l){const n=new FileReader;n.onloadend=()=>m(n.result),n.readAsDataURL(l)}},p=a=>{a.preventDefault();const l=new FormData;l.append("_method","PUT"),l.append("judul",s.judul),l.append("isi",s.isi),l.append("penulis",s.penulis),l.append("kategori",s.kategori),l.append("status",s.status),s.gambar&&l.append("gambar",s.gambar),u(h("artikel.update",r.id_artikel),{data:l,forceFormData:!0})};return e.jsx(b,{children:e.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-10 bg-white shadow-md rounded-lg",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Edit Artikel"}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"judul",className:"block font-medium text-gray-700 mb-1",children:"Judul Artikel"}),e.jsx("input",{id:"judul",type:"text",value:s.judul,onChange:a=>i("judul",a.target.value),placeholder:"Masukkan judul artikel",className:"w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.judul&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.judul})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"isi",className:"block font-medium text-gray-700 mb-1",children:"Isi Artikel"}),e.jsx("textarea",{id:"isi",value:s.isi,onChange:a=>i("isi",a.target.value),placeholder:"Tulis isi lengkap artikel...",rows:6,className:"w-full border border-gray-300 p-3 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.isi&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.isi})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"penulis",className:"block font-medium text-gray-700 mb-1",children:"Penulis"}),e.jsx("input",{id:"penulis",type:"text",value:s.penulis,onChange:a=>i("penulis",a.target.value),placeholder:"Nama penulis artikel",className:"w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.penulis&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.penulis})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kategori",className:"block font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("input",{id:"kategori",type:"text",value:s.kategori,onChange:a=>i("kategori",a.target.value),placeholder:"Misalnya: Teknologi, Lingkungan, dll",className:"w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.kategori&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.kategori})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",value:s.status,onChange:a=>i("status",a.target.value),className:"w-full border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"publish",children:"Publish"})]}),t.status&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.status})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gambar",className:"block font-medium text-gray-700 mb-1",children:"Gambar Artikel"}),e.jsx("input",{id:"gambar",type:"file",accept:"image/*",onChange:c,className:"w-full border border-gray-300 p-2 rounded-md file:mr-4 file:py-2 file:px-4 file:border-0 file:bg-blue-50 file:text-blue-700 file:rounded file:cursor-pointer"}),t.gambar&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.gambar})]}),o&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview Gambar:"}),e.jsx("img",{src:o,alt:"Preview",className:"w-40 h-40 object-cover rounded border"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:d,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-6 py-2 rounded-md transition duration-200 disabled:opacity-50",children:d?"Menyimpan...":"Perbarui Artikel"})})]})]})})}export{v as default};
